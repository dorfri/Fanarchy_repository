CREATE TABLE address (id INT AUTO_INCREMENT, address1 VARCHAR(50) NOT NULL, address2 VARCHAR(50) NOT NULL, postcode VARCHAR(50) NOT NULL, city_id INT NOT NULL, INDEX city_id_idx (city_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE answer (id INT AUTO_INCREMENT, text VARCHAR(100) NOT NULL, mediapicture_id INT, mediavideo_id INT, vote_id INT, question_id INT, INDEX mediapicture_id_idx (mediapicture_id), INDEX mediavideo_id_idx (mediavideo_id), INDEX vote_id_idx (vote_id), INDEX question_id_idx (question_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE answervalue (id INT AUTO_INCREMENT, valuenumeric INT NOT NULL, valueyesno VARCHAR(10) NOT NULL, valuecomment VARCHAR(255) NOT NULL, chosenottovotereason VARCHAR(20) NOT NULL, voteinstance_id INT, INDEX voteinstance_id_idx (voteinstance_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE city (id INT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, country_id INT NOT NULL, state_id INT, INDEX country_id_idx (country_id), INDEX state_id_idx (state_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE continent (id INT AUTO_INCREMENT, name VARCHAR(40) NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE country (id INT AUTO_INCREMENT, name VARCHAR(200) NOT NULL, continent_id INT NOT NULL, INDEX continent_id_idx (continent_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE education (id INT AUTO_INCREMENT, timeperiodstart DATETIME NOT NULL, timeperiodend DATETIME NOT NULL, concentrations VARCHAR(255) NOT NULL, attendedfor VARCHAR(25) NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE exposuredata (id INT AUTO_INCREMENT, totalexposures INT NOT NULL, firstexposuredate DATETIME NOT NULL, lastexposuredate DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE fangroup (id INT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, agerangestart INT NOT NULL, agerangeend INT NOT NULL, gender VARCHAR(10) NOT NULL, homepage VARCHAR(255) NOT NULL, team_id INT, address_id INT, mediapicture_id INT, INDEX team_id_idx (team_id), INDEX address_id_idx (address_id), INDEX mediapicture_id_idx (mediapicture_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE gender (id INT AUTO_INCREMENT, name VARCHAR(10) NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE language (id INT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE league (id INT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, address_id INT, INDEX address_id_idx (address_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE mediapicture (id INT AUTO_INCREMENT, url VARCHAR(100) NOT NULL, width INT NOT NULL, height INT NOT NULL, hovertext VARCHAR(200) NOT NULL, onclickaction VARCHAR(200) NOT NULL, exposuredata_id INT, INDEX exposuredata_id_idx (exposuredata_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE mediavideo (id INT AUTO_INCREMENT, url VARCHAR(100) NOT NULL, width INT NOT NULL, height INT NOT NULL, hovertext VARCHAR(200) NOT NULL, exposuredata_id INT, INDEX exposuredata_id_idx (exposuredata_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE mtm_answer2answervalue (id INT AUTO_INCREMENT, answer_id INT NOT NULL, answervalue_id INT NOT NULL, INDEX answer_id_idx (answer_id), INDEX answervalue_id_idx (answervalue_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE mtm_fangroup2siteusers (id INT AUTO_INCREMENT, fangroup_id INT NOT NULL, siteuser_id BIGINT NOT NULL, INDEX fangroup_id_idx (fangroup_id), INDEX siteuser_id_idx (siteuser_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE mtm_segment2address (id INT AUTO_INCREMENT, segment_id INT NOT NULL, address_id INT NOT NULL, INDEX address_id_idx (address_id), INDEX segment_id_idx (segment_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE mtm_segment2fangroup (id INT AUTO_INCREMENT, segment_id INT NOT NULL, fangroup_id INT NOT NULL, INDEX fangroup_id_idx (fangroup_id), INDEX segment_id_idx (segment_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE mtm_siteusers2answervalue (id INT AUTO_INCREMENT, user_id BIGINT NOT NULL, answervalue_id INT NOT NULL, INDEX answervalue_id_idx (answervalue_id), INDEX user_id_idx (user_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE mtm_siteusers2education (id INT AUTO_INCREMENT, siteusers_id BIGINT NOT NULL, education_id INT NOT NULL, INDEX education_id_idx (education_id), INDEX siteusers_id_idx (siteusers_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE mtm_siteusers2team (id INT AUTO_INCREMENT, team_id INT NOT NULL, siteusers_id BIGINT NOT NULL, joindate DATETIME NOT NULL, expirationdate DATETIME NOT NULL, INDEX team_id_idx (team_id), INDEX siteusers_id_idx (siteusers_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE ppi (id BIGINT AUTO_INCREMENT, code VARCHAR(255) DEFAULT '' NOT NULL, promotioncode VARCHAR(50) DEFAULT '' NOT NULL, name VARCHAR(50) DEFAULT '' NOT NULL, prodprice VARCHAR(10) DEFAULT '' NOT NULL, startdate DATE NOT NULL, enddate DATE NOT NULL, updateddt DATETIME NOT NULL, description TEXT NOT NULL, prodduration VARCHAR(3) DEFAULT '' NOT NULL, autorenew CHAR(1) DEFAULT 'N' NOT NULL, isactive VARCHAR(1) DEFAULT '1' NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE payment_register (id BIGINT AUTO_INCREMENT, createdatetime DATETIME NOT NULL, ppi_id BIGINT, siteusers_id BIGINT, INDEX ppi_id_idx (ppi_id), INDEX siteusers_id_idx (siteusers_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE priviclass (id INT AUTO_INCREMENT, name VARCHAR(50) NOT NULL, level INT NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE productinfo (id INT UNSIGNED AUTO_INCREMENT, code VARCHAR(255) DEFAULT '' NOT NULL UNIQUE, name VARCHAR(255) DEFAULT '' NOT NULL, updateddt DATETIME NOT NULL, description TEXT NOT NULL, prodduration VARCHAR(3) DEFAULT '' NOT NULL, prodtype VARCHAR(10) DEFAULT '' NOT NULL, promotioncode VARCHAR(10) DEFAULT '' NOT NULL, proddurationunits VARCHAR(2) DEFAULT 'MO' NOT NULL, prodnumberusages INT DEFAULT 1 NOT NULL, mustbeloggedin CHAR(1) DEFAULT 'N' NOT NULL, purchasecaption VARCHAR(255) DEFAULT '' NOT NULL, showexpirationdate CHAR(1) DEFAULT '' NOT NULL, billingperiod VARCHAR(10) DEFAULT '' NOT NULL, freeperiod VARCHAR(10) DEFAULT '' NOT NULL, freeperiodunit VARCHAR(10) DEFAULT '' NOT NULL, isarbproduct VARCHAR(1) DEFAULT '0' NOT NULL, billingperiodunit VARCHAR(10) DEFAULT '' NOT NULL, emailtosite VARCHAR(1) DEFAULT '0' NOT NULL, prodcurrency VARCHAR(10) DEFAULT '' NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE question (id INT AUTO_INCREMENT, text VARCHAR(255) NOT NULL, sequence INT NOT NULL, maxanswers INT NOT NULL, vote_id INT, questiontype_id INT, INDEX vote_id_idx (vote_id), INDEX questiontype_id_idx (questiontype_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE questiontype (id INT AUTO_INCREMENT, name VARCHAR(30), minanswers TINYINT NOT NULL, maxanswers TINYINT NOT NULL, htmlpresentation VARCHAR(250) NOT NULL, isboolean TINYINT NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE segment (id INT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, agerangestart INT NOT NULL, agerangeend INT NOT NULL, estimatedreach INT NOT NULL, gender_id INT, INDEX gender_id_idx (gender_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE siteusers (id BIGINT AUTO_INCREMENT, firstname VARCHAR(255) NOT NULL, lastname VARCHAR(255) NOT NULL, email VARCHAR(255) NOT NULL, dateofbirth DATETIME NOT NULL, password VARCHAR(50) NOT NULL, sexorientation VARCHAR(10) NOT NULL, relationshipstatus VARCHAR(30) NOT NULL, relationshipwith VARCHAR(50) NOT NULL, anniversarydate DATETIME NOT NULL, religion VARCHAR(255) NOT NULL, politicalview VARCHAR(255) NOT NULL, createddate DATETIME NOT NULL, isactive TINYINT NOT NULL, address_id INT, priviclass_id INT, profilepicture_id INT, education_id INT, gender_id INT, language_id INT, INDEX address_id_idx (address_id), INDEX priviclass_id_idx (priviclass_id), INDEX profilepicture_id_idx (profilepicture_id), INDEX education_id_idx (education_id), INDEX gender_id_idx (gender_id), INDEX language_id_idx (language_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE sitevars (id INT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, value VARCHAR(255) NOT NULL, description VARCHAR(55) NOT NULL, team_id INT, INDEX team_id_idx (team_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE sporttype (id INT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, description VARCHAR(255) NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE states (id INT AUTO_INCREMENT, name VARCHAR(200) NOT NULL, country_id INT, INDEX country_id_idx (country_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE status (id INT AUTO_INCREMENT, name VARCHAR(50) NOT NULL, description VARCHAR(250) NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE team (id INT AUTO_INCREMENT, name VARCHAR(250) NOT NULL, websiteurl VARCHAR(255) NOT NULL, stadiumname VARCHAR(255) NOT NULL, phonenumber VARCHAR(20) NOT NULL, fax VARCHAR(10) NOT NULL, createddate DATETIME NOT NULL, sporttype_id INT, league_id INT, mediapicture_id INT, homeaddress_id INT, INDEX sporttype_id_idx (sporttype_id), INDEX league_id_idx (league_id), INDEX mediapicture_id_idx (mediapicture_id), INDEX homeaddress_id_idx (homeaddress_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE teamsiteusersaddnlinfo (id INT AUTO_INCREMENT, jobtitle VARCHAR(255) NOT NULL, phonenumber VARCHAR(20) NOT NULL, fax VARCHAR(20) NOT NULL, mobile VARCHAR(20) NOT NULL, siteusers_id BIGINT, priviclass_id INT, INDEX siteusers_id_idx (siteusers_id), INDEX priviclass_id_idx (priviclass_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE timezone (id INT AUTO_INCREMENT, name VARCHAR(50) NOT NULL, difffromgmt INT NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE vote (id INT AUTO_INCREMENT, title VARCHAR(40) NOT NULL, summary VARCHAR(250) NOT NULL, text TEXT NOT NULL, activationstarttime DATETIME NOT NULL, activationendtime DATETIME NOT NULL, resultpublishplandate DATETIME NOT NULL, isresultpublishd TINYINT NOT NULL, creationtime DATETIME NOT NULL, allowfreemium TINYINT NOT NULL, mediapicture_id INT, team_id INT, mediavideo_id INT, timezone_id INT, status_id INT, segment_id INT, INDEX mediapicture_id_idx (mediapicture_id), INDEX team_id_idx (team_id), INDEX mediavideo_id_idx (mediavideo_id), INDEX timezone_id_idx (timezone_id), INDEX status_id_idx (status_id), INDEX segment_id_idx (segment_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE voteinstance (id INT AUTO_INCREMENT, participation INT NOT NULL, totalpageviews INT NOT NULL, totalshared INT NOT NULL, totalcomments INT NOT NULL, creationtime DATETIME NOT NULL, vote_id INT, INDEX vote_id_idx (vote_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE work (id INT AUTO_INCREMENT, position VARCHAR(255) NOT NULL, citytown VARCHAR(255) NOT NULL, description VARCHAR(255) NOT NULL, timeperiod DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
ALTER TABLE address ADD CONSTRAINT address_city_id_city_id FOREIGN KEY (city_id) REFERENCES city(id);
ALTER TABLE answer ADD CONSTRAINT answer_vote_id_vote_id FOREIGN KEY (vote_id) REFERENCES vote(id);
ALTER TABLE answer ADD CONSTRAINT answer_question_id_question_id FOREIGN KEY (question_id) REFERENCES question(id);
ALTER TABLE answer ADD CONSTRAINT answer_mediavideo_id_mediavideo_id FOREIGN KEY (mediavideo_id) REFERENCES mediavideo(id);
ALTER TABLE answer ADD CONSTRAINT answer_mediapicture_id_mediapicture_id FOREIGN KEY (mediapicture_id) REFERENCES mediapicture(id);
ALTER TABLE answervalue ADD CONSTRAINT answervalue_voteinstance_id_voteinstance_id FOREIGN KEY (voteinstance_id) REFERENCES voteinstance(id);
ALTER TABLE city ADD CONSTRAINT city_state_id_states_id FOREIGN KEY (state_id) REFERENCES states(id);
ALTER TABLE city ADD CONSTRAINT city_country_id_country_id FOREIGN KEY (country_id) REFERENCES country(id);
ALTER TABLE country ADD CONSTRAINT country_continent_id_continent_id FOREIGN KEY (continent_id) REFERENCES continent(id);
ALTER TABLE fangroup ADD CONSTRAINT fangroup_team_id_team_id FOREIGN KEY (team_id) REFERENCES team(id);
ALTER TABLE fangroup ADD CONSTRAINT fangroup_mediapicture_id_mediapicture_id FOREIGN KEY (mediapicture_id) REFERENCES mediapicture(id);
ALTER TABLE fangroup ADD CONSTRAINT fangroup_address_id_address_id FOREIGN KEY (address_id) REFERENCES address(id);
ALTER TABLE league ADD CONSTRAINT league_address_id_address_id FOREIGN KEY (address_id) REFERENCES address(id);
ALTER TABLE mediapicture ADD CONSTRAINT mediapicture_exposuredata_id_exposuredata_id FOREIGN KEY (exposuredata_id) REFERENCES exposuredata(id);
ALTER TABLE mediavideo ADD CONSTRAINT mediavideo_exposuredata_id_exposuredata_id FOREIGN KEY (exposuredata_id) REFERENCES exposuredata(id);
ALTER TABLE mtm_answer2answervalue ADD CONSTRAINT mtm_answer2answervalue_answervalue_id_answervalue_id FOREIGN KEY (answervalue_id) REFERENCES answervalue(id);
ALTER TABLE mtm_answer2answervalue ADD CONSTRAINT mtm_answer2answervalue_answer_id_answer_id FOREIGN KEY (answer_id) REFERENCES answer(id);
ALTER TABLE mtm_fangroup2siteusers ADD CONSTRAINT mtm_fangroup2siteusers_siteuser_id_siteusers_id FOREIGN KEY (siteuser_id) REFERENCES siteusers(id);
ALTER TABLE mtm_fangroup2siteusers ADD CONSTRAINT mtm_fangroup2siteusers_fangroup_id_fangroup_id FOREIGN KEY (fangroup_id) REFERENCES fangroup(id);
ALTER TABLE mtm_segment2address ADD CONSTRAINT mtm_segment2address_segment_id_segment_id FOREIGN KEY (segment_id) REFERENCES segment(id);
ALTER TABLE mtm_segment2address ADD CONSTRAINT mtm_segment2address_address_id_address_id FOREIGN KEY (address_id) REFERENCES address(id);
ALTER TABLE mtm_segment2fangroup ADD CONSTRAINT mtm_segment2fangroup_segment_id_segment_id FOREIGN KEY (segment_id) REFERENCES segment(id);
ALTER TABLE mtm_segment2fangroup ADD CONSTRAINT mtm_segment2fangroup_fangroup_id_fangroup_id FOREIGN KEY (fangroup_id) REFERENCES fangroup(id);
ALTER TABLE mtm_siteusers2answervalue ADD CONSTRAINT mtm_siteusers2answervalue_user_id_siteusers_id FOREIGN KEY (user_id) REFERENCES siteusers(id);
ALTER TABLE mtm_siteusers2answervalue ADD CONSTRAINT mtm_siteusers2answervalue_answervalue_id_answervalue_id FOREIGN KEY (answervalue_id) REFERENCES answervalue(id);
ALTER TABLE mtm_siteusers2education ADD CONSTRAINT mtm_siteusers2education_siteusers_id_siteusers_id FOREIGN KEY (siteusers_id) REFERENCES siteusers(id);
ALTER TABLE mtm_siteusers2education ADD CONSTRAINT mtm_siteusers2education_education_id_education_id FOREIGN KEY (education_id) REFERENCES education(id);
ALTER TABLE mtm_siteusers2team ADD CONSTRAINT mtm_siteusers2team_team_id_team_id FOREIGN KEY (team_id) REFERENCES team(id);
ALTER TABLE mtm_siteusers2team ADD CONSTRAINT mtm_siteusers2team_siteusers_id_siteusers_id FOREIGN KEY (siteusers_id) REFERENCES siteusers(id);
ALTER TABLE payment_register ADD CONSTRAINT payment_register_siteusers_id_siteusers_id FOREIGN KEY (siteusers_id) REFERENCES siteusers(id);
ALTER TABLE payment_register ADD CONSTRAINT payment_register_ppi_id_ppi_id FOREIGN KEY (ppi_id) REFERENCES ppi(id);
ALTER TABLE question ADD CONSTRAINT question_vote_id_vote_id FOREIGN KEY (vote_id) REFERENCES vote(id);
ALTER TABLE question ADD CONSTRAINT question_questiontype_id_questiontype_id FOREIGN KEY (questiontype_id) REFERENCES questiontype(id);
ALTER TABLE segment ADD CONSTRAINT segment_gender_id_gender_id FOREIGN KEY (gender_id) REFERENCES gender(id);
ALTER TABLE siteusers ADD CONSTRAINT siteusers_profilepicture_id_mediapicture_id FOREIGN KEY (profilepicture_id) REFERENCES mediapicture(id);
ALTER TABLE siteusers ADD CONSTRAINT siteusers_priviclass_id_priviclass_id FOREIGN KEY (priviclass_id) REFERENCES priviclass(id);
ALTER TABLE siteusers ADD CONSTRAINT siteusers_language_id_language_id FOREIGN KEY (language_id) REFERENCES language(id);
ALTER TABLE siteusers ADD CONSTRAINT siteusers_gender_id_gender_id FOREIGN KEY (gender_id) REFERENCES gender(id);
ALTER TABLE siteusers ADD CONSTRAINT siteusers_education_id_education_id FOREIGN KEY (education_id) REFERENCES education(id);
ALTER TABLE siteusers ADD CONSTRAINT siteusers_address_id_address_id FOREIGN KEY (address_id) REFERENCES address(id);
ALTER TABLE sitevars ADD CONSTRAINT sitevars_team_id_team_id FOREIGN KEY (team_id) REFERENCES team(id);
ALTER TABLE states ADD CONSTRAINT states_country_id_country_id FOREIGN KEY (country_id) REFERENCES country(id);
ALTER TABLE team ADD CONSTRAINT team_sporttype_id_sporttype_id FOREIGN KEY (sporttype_id) REFERENCES sporttype(id);
ALTER TABLE team ADD CONSTRAINT team_mediapicture_id_mediapicture_id FOREIGN KEY (mediapicture_id) REFERENCES mediapicture(id);
ALTER TABLE team ADD CONSTRAINT team_league_id_league_id FOREIGN KEY (league_id) REFERENCES league(id);
ALTER TABLE team ADD CONSTRAINT team_homeaddress_id_address_id FOREIGN KEY (homeaddress_id) REFERENCES address(id);
ALTER TABLE teamsiteusersaddnlinfo ADD CONSTRAINT teamsiteusersaddnlinfo_siteusers_id_siteusers_id FOREIGN KEY (siteusers_id) REFERENCES siteusers(id);
ALTER TABLE teamsiteusersaddnlinfo ADD CONSTRAINT teamsiteusersaddnlinfo_priviclass_id_priviclass_id FOREIGN KEY (priviclass_id) REFERENCES priviclass(id);
ALTER TABLE vote ADD CONSTRAINT vote_timezone_id_timezone_id FOREIGN KEY (timezone_id) REFERENCES timezone(id);
ALTER TABLE vote ADD CONSTRAINT vote_team_id_team_id FOREIGN KEY (team_id) REFERENCES team(id);
ALTER TABLE vote ADD CONSTRAINT vote_status_id_status_id FOREIGN KEY (status_id) REFERENCES status(id);
ALTER TABLE vote ADD CONSTRAINT vote_segment_id_segment_id FOREIGN KEY (segment_id) REFERENCES segment(id);
ALTER TABLE vote ADD CONSTRAINT vote_mediavideo_id_mediavideo_id FOREIGN KEY (mediavideo_id) REFERENCES mediavideo(id);
ALTER TABLE vote ADD CONSTRAINT vote_mediapicture_id_mediapicture_id FOREIGN KEY (mediapicture_id) REFERENCES mediapicture(id);
ALTER TABLE voteinstance ADD CONSTRAINT voteinstance_vote_id_vote_id FOREIGN KEY (vote_id) REFERENCES vote(id);
